<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JS -- task5 img move</title>

	<link href = "css/style2.css" rel = "stylesheet" type = "text/css" />

</head>
<body>
	<div id = "carousel" class = "carousel"> 
		<button class = "arrow prev">⬅</button>

		<div class = "gallery">
			<ul class = "images">
				<li><img src="https://js.cx/carousel/1.png"></li>
		        <li><img src="https://js.cx/carousel/2.png"></li>
		        <li><img src="https://js.cx/carousel/3.png"></li>
		        <li><img src="https://js.cx/carousel/4.png"></li>
		        <li><img src="https://js.cx/carousel/5.png"></li>
		        <li><img src="https://js.cx/carousel/6.png"></li>
		        <li><img src="https://js.cx/carousel/7.png"></li>
		        <li><img src="https://js.cx/carousel/8.png"></li>
		        <li><img src="https://js.cx/carousel/9.png"></li>
		        <li><img src="https://js.cx/carousel/10.png"></li>
			</ul>
		</div>

		<button class = "arrow next">➡</button>
	</div>

	<script type="text/javascript">
			/* этот код помечает картинки, для удобства разработки */
			let lis = document.getElementsByTagName("li");

			for(let i = 0; i < lis.length; i++)
			{
				lis[i].style.position = "relative";
				let span = document.createElement("span");

				// обычно лучше использовать CSS-классы,
      			// но этот код - для удобства разработки, так что не будем трогать стили
      			span.style.cssText = "position:absolute; left: 0; top: 0";
      			span.innerHTML = i + 1;
      			lis[i].appendChild(span);
			}

			 /* конфигурация */
			 let width = 130; // width img
			 let count = 3;  // img3

			 let carousel = document.getElementById("carousel");
			 let list = carousel.querySelector("ul");
			 let listElems = carousel.querySelectorAll('li'); 

			 let position = 0; // in  momnet posi

			 carousel.querySelector('.prev').onclick = function()
			 {
			 	  // сдвиг влево
     			 // последнее передвижение влево может быть не на 3, а на 2 или 1 элемент\
 			     position = Math.min(position + width * count, 0);
 			     list.style.marginLeft = position + "px";
			 };

			 carousel.querySelector('.next').onclick = function()
			 {
			 	// сдвиг вправо
     		   // последнее передвижение вправо может быть не на 3, а на 2 или 1 элемент
     		   position = Math.max(position - width * count, -width *(listElems.length - count ));
     		   list.style.marginLeft = position + "px";
			 };
	</script>

</body>
</html>